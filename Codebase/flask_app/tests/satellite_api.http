### Satellite API HTTP Tests
### Use this file with VS Code REST Client extension or similar tools

@baseUrl = http://127.0.0.1:5000
@contentType = application/json

###
# Health Check
GET {{baseUrl}}/health


POST {{baseUrl}}/api/satellite/raw-image

Content-Type: {{contentType}}
{
  "bbox": [-101.273432, 50.075155, -96.060934, 54.171428],
  "start_date": "2022-08-01T10:00:00Z",
  "end_date": "2022-08-31T22:00:00Z",
  "width": 1000,  
  "height": 1000  
}


###
# Get Satellite API Information
GET {{baseUrl}}/api/satellite/info

###
# Download Lake Winnipeg Satellite Imagery (preset from curl example)
GET {{baseUrl}}/api/satellite/lake-winnipeg

###
# Custom Satellite Imagery Fetch
POST {{baseUrl}}/api/satellite/fetch
Content-Type: {{contentType}}

{
    "bbox": [-101.273432, 50.075155, -96.060934, 54.171428],
    "start_date": "2024-04-01T10:00:00Z",
    "end_date": "2024-04-28T22:00:00Z"
}

###
# Custom Satellite Imagery with different location (Toronto area)
POST {{baseUrl}}/api/satellite/fetch
Content-Type: {{contentType}}

{
    "bbox": [-79.639219, 43.403221, -79.115562, 43.855457],
    "start_date": "2023-07-01T10:00:00Z",
    "end_date": "2023-07-31T22:00:00Z"
}


###
# Test Error Handling - Missing required fields
POST {{baseUrl}}/api/satellite/fetch
Content-Type: {{contentType}}

{
    "bbox": [-101.273432, 50.075155, -96.060934, 54.171428]
}

###
# Test Error Handling - Invalid bbox format
POST {{baseUrl}}/api/satellite/fetch
Content-Type: {{contentType}}

{
    "bbox": "invalid",
    "start_date": "2022-08-01T10:00:00Z",
    "end_date": "2022-08-31T22:00:00Z"
}

###
# Test Error Handling - Invalid date format
POST {{baseUrl}}/api/satellite/fetch
Content-Type: {{contentType}}

{
    "bbox": [-101.273432, 50.075155, -96.060934, 54.171428],
    "start_date": "invalid-date",
    "end_date": "2022-08-31T22:00:00Z"
}